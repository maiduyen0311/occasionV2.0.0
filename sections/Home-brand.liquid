{% if section.settings.display_brands_slider %}
<section class="home-brand">

  <div class="slide-brand row" data-row="{{section.settings.brand_per_row}}">
    {% for block in section.blocks %}
    <div class="item col-md-2">
      <a title="{{ block.settings.title }}" href="{{ block.settings.link }}">
        {% if block.settings.image != blank %}       
        {%- assign img_url = block.settings.image | img_url: '200x' -%}
        <img src="{{ block.settings.image | img_url : "200x" }}" alt="{{ block.settings.image.alt }}"/>
        {% else %}
        <span class="not_img">210 x 50px</span>
        {% endif %}
      </a>
    </div>
    {% endfor %}
  </div>

</section>
{% endif %}
{% schema %}
  {
    "name": "Brands Block",
    "class": "index-section",
	"max_blocks": 15,
    "settings": [
	  {
        "type": "checkbox",
        "id": "display_brands_slider",
        "label": "Display Brands Slider?",
        "default": true
      },
	  {
		"type" : "select",
		"id" : "brand_per_row",
		"label" : "Brand Per Row",
		"default" : "5",
        "options": [
                    { "value": "3", "label": "3" },
                    { "value": "4", "label": "4" },
                    { "value": "5", "label": "5" },
                    { "value": "6", "label": "6" }
                  ]
	  }
	],
	"blocks": [
      {
        "type": "image",
        "name": "Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Your Brands",
            "default": "Loremous"
          },
		  {
            "type": "url",
            "id": "link",
            "label": "Link",
            "info": "Optional"
          }
		]
	  }
	],
    "presets": [
      {
        "name": "Brands Block",
        "category": "Images"
      }
    ]
  }
{% endschema %}
<script>

  $(document).ready(function(){
    var row = $('.home-brand .slide-brand').data('row');
    function brand_slide() {
      $('.home-brand .slide-brand').slick({
          slidesToShow: row,
          slidesToScroll: row,
          arrows: true,
          nextArrow: '<button type="button" class="slick-next">{% include 'icon_next' %}</button>',
          prevArrow: '<button type="button" class="slick-prev">{% include 'icon_prev' %}</button>',
          autoplaySpeed : 1000,
          speed: 900,
          responsive: [
          {
              breakpoint: 1024,
              settings: {
                  slidesToShow: 4,
                  slidesToScroll: 4,
                  dots: false,
                  arrows: true
              }
          },
          {
              breakpoint: 768,
              settings: {
                  slidesToShow: 3,
                  slidesToScroll: 3,
                  dots: false,
                  arrows: true
              }
          },
          {
              breakpoint: 480,
              settings: {
                  slidesToShow: 2,
                  slidesToScroll: 2,
                  dots: true,
                  arrows: false
              }
          }
        ]
      });

    }
          
    brand_slide();
    $(document)
    .on( 'shopify:section:load', brand_slide )
    .on( 'shopify:section:unload', brand_slide);
  });
  
</script>